--- 
- name: This install httpd service
  hosts: all 
  become: true
  tasks:
  - name: run httpd service
    yum: 
      name: httpd
      state: present 
    when: ansible_os_family == 'RedHat'

  - name: ensure service is started
    service:
      name: http--
      state: started
    when: ansible_os_family == 'RedHat'
    ignore_errors: yes 

  - name: this install apache2 
    apt:
      name: apache2
      state: present 
    when: ansible_os_family == 'Debian'

  - name: ensure service is started
    service:
      name: apache2
      state: started 
    when: ansible_os_family == 'Debian'



